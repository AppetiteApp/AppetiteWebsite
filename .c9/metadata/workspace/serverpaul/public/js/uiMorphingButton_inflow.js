{"filter":false,"title":"uiMorphingButton_inflow.js","tooltip":"/serverpaul/public/js/uiMorphingButton_inflow.js","undoManager":{"mark":1,"position":1,"stack":[[{"start":{"row":0,"column":0},"end":{"row":132,"column":13},"action":"remove","lines":["/**"," * uiMorphingButton_inflow.js v1.0.0"," * http://www.codrops.com"," *"," * Licensed under the MIT license."," * http://www.opensource.org/licenses/mit-license.php"," * "," * Copyright 2014, Codrops"," * http://www.codrops.com"," */",";( function( window ) {","\t","\t'use strict';","","\tvar transEndEventNames = {","\t\t\t'WebkitTransition': 'webkitTransitionEnd',","\t\t\t'MozTransition': 'transitionend',","\t\t\t'OTransition': 'oTransitionEnd',","\t\t\t'msTransition': 'MSTransitionEnd',","\t\t\t'transition': 'transitionend'","\t\t},","\t\ttransEndEventName = transEndEventNames[ Modernizr.prefixed( 'transition' ) ],","\t\tsupport = { transitions : Modernizr.csstransitions };","","\tfunction extend( a, b ) {","\t\tfor( var key in b ) { ","\t\t\tif( b.hasOwnProperty( key ) ) {","\t\t\t\ta[key] = b[key];","\t\t\t}","\t\t}","\t\treturn a;","\t}","","\tfunction UIMorphingButton( el, options ) {","\t\tthis.el = el;","\t\tthis.options = extend( {}, this.options );","\t\textend( this.options, options );","\t\tthis._init();","\t}","","\tUIMorphingButton.prototype.options = {","\t\tcloseEl : '',","\t\tonBeforeOpen : function() { return false; },","\t\tonAfterOpen : function() { return false; },","\t\tonBeforeClose : function() { return false; },","\t\tonAfterClose : function() { return false; }","\t}","","\tUIMorphingButton.prototype._init = function() {","\t\t// save element height","\t\tthis.elH = this.el.offsetHeight;","\t\t// the button","\t\tthis.button = this.el.querySelector( 'button' );","\t\t// state","\t\tthis.expanded = false;","\t\t// content el","\t\tthis.contentEl = this.el.querySelector( '.morph-content' );","\t\t// init events","\t\tthis._initEvents();","\t}","","\tUIMorphingButton.prototype._initEvents = function() {","\t\tvar self = this;","\t\t// open","\t\tthis.button.addEventListener( 'click', function() { self.toggle(); } );","\t\t// close","\t\tif( this.options.closeEl !== '' ) {","\t\t\tvar closeEl = this.el.querySelector( this.options.closeEl );","\t\t\tif( closeEl ) {","\t\t\t\tcloseEl.addEventListener( 'click', function() { self.toggle(); } );","\t\t\t}","\t\t}","\t}","","\tUIMorphingButton.prototype.toggle = function() {","\t\tif( this.isAnimating ) return false;","","\t\t// callback","\t\tif( this.expanded ) {","\t\t\tthis.options.onBeforeClose();","\t\t}","\t\telse {","\t\t\t// add class active (solves z-index problem when more than one button is in the page)","\t\t\tclassie.addClass( this.el, 'active' );","\t\t\tthis.options.onBeforeOpen();","\t\t}","","\t\tthis.isAnimating = true;","","\t\tvar self = this,","\t\t\tonEndTransitionFn = function( ev ) {","\t\t\t\tif( ev.target !== this ) return false;","","\t\t\t\tif( support.transitions ) {","\t\t\t\t\tthis.removeEventListener( transEndEventName, onEndTransitionFn );","\t\t\t\t}","\t\t\t\tself.isAnimating = false;","\t\t\t\t","\t\t\t\t// callback","\t\t\t\tif( self.expanded ) {","\t\t\t\t\t// remove class active (after closing)","\t\t\t\t\tclassie.removeClass( self.el, 'active' );","\t\t\t\t\tself.options.onAfterClose();","\t\t\t\t}","\t\t\t\telse {","\t\t\t\t\tself.options.onAfterOpen();","\t\t\t\t}","","\t\t\t\tself.expanded = !self.expanded;","\t\t\t};","","\t\tif( support.transitions ) {","\t\t\tthis.el.addEventListener( transEndEventName, onEndTransitionFn );","\t\t}","\t\telse {","\t\t\tonEndTransitionFn();","\t\t}","\t\t","\t\t// add/remove class \"open\" to the button wraper","\t\tthis.el.style.height = this.expanded ? this.elH + 'px' : this.contentEl.offsetHeight + 'px';","\t\t","\t\tif( this.expanded ) {","\t\t\tclassie.removeClass( this.el, 'open' );","\t\t}","\t\telse {","\t\t\tclassie.addClass( this.el, 'open' );","\t\t}","\t}","","\t// add to global namespace","\twindow.UIMorphingButton = UIMorphingButton;","","})( window );"],"id":2},{"start":{"row":0,"column":0},"end":{"row":0,"column":1},"action":"insert","lines":["="]}],[{"start":{"row":0,"column":0},"end":{"row":0,"column":1},"action":"remove","lines":["="],"id":3}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":0,"column":0},"end":{"row":0,"column":0},"isBackwards":false},"options":{"tabSize":4,"useSoftTabs":true,"guessTabSize":false,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1469548785766,"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709"}